<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h2>Insira as coordenadas da cidade que você deseja ver o clima</h2>
    <input type="text" id="cidade" placeholder="latitude">
    

    <button id="bttMandar">Mandar Informações</button>
    <button id="bttBusca">Fazer Busca</button>
    <p id="teste"></p>

    <script>
        let cidade;
        
        let bttMandar = document.getElementById("bttMandar");

        bttMandar.onclick = () => {
            
            cidade = document.getElementById("cidade").value;
            
            
            console.log(cidade);
            
            
            const apiKey = '1b30bbfd2cf80b4555d846795a127a3d'; 
            const apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=${cidade}&appid=${apiKey}&units=metric`; 
            
            // Função async para buscar dados da API
            data = async () => (await fetch(apiUrl)).json();
            
            let bttBusca = document.getElementById("bttBusca");
            bttBusca.onclick = () => {
                data().then((res) => {
                    console.log(res);
                }).catch((err) => {
                    alert(err);
                });
            };
        };
    </script>
</body>
</html>
