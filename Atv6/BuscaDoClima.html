<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h2>Insira as coordenadas da cidade que você deseja ver o clima</h2>
    <input type="text" id="cidade-input" placeholder="Insira sua cidade">
    <button id="busca-btn">Fazer busca</button>
    <p>As informações climáticas de sua cidade:</p>
    <p id="info_clima">a</p>
    <script>
        let cidade; 
        let clima;
        let busca = document.getElementById("busca-btn");

        busca.onclick = () => {
            cidade = document.getElementById("cidade-input").value;
            console.log(cidade);
            
            const apiKey = '1b30bbfd2cf80b4555d846795a127a3d'; 
            const apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=${cidade}&appid=${apiKey}&units=metric`; 
            
            // Função async para buscar dados da API
            data = async () => (await fetch(apiUrl)).json();
                data().then((res) => {
                    
                    console.log(res);
                    clima = res.main.temp;
                    console.log(clima);
                    document.getElementById("info_clima").innerHTML = clima;
                }).catch((err) => {
                    alert(err);
                });
                
                
        };
    </script>
</body>
</html>
